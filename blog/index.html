
<!DOCTYPE HTML>
<html lang="en-GB">
<head>
	<meta charset="utf-8">
	<title>Miguel Angel Coa Morales  | Bitácora</title>

	<meta name="author" content="Miguel Angel Coa Morales">

<meta name="description" content="Un blog personal"> <meta name="keywords" content="zimbra, linux, centos, devops, puppet, opensource, virtualizar, virtualización">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Bitácora" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>



<body>
	<header id="header" class="inner"><h1><a href="/">Bitácora</a></h1>
<span class="tagline">Miguel Angel Coa Morales</span>
<nav id="main-nav"><ul>
	<li><a href="/about">About</a></li>
	<li><a href="/archives">Archives</a></li>
	<li><a href="/contact">Contact</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/about">About</a></li>
	<li><a href="/archives">Archives</a></li>
	<li><a href="/contact">Contact</a></li>
</ul>
</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2015/11/12/ansible-configurando-volumen-de-datos-hsm-en-zimbra/">
			
				Ansible: Configurando Volúmen De Datos HSM en Zimbra</a>
		</h2>
		<div class="meta date">








  


<time datetime="2015-11-12T18:34:00-03:00" pubdate data-updated="true">Nov 12<span>th</span>, 2015</time></div>
	</header>
	<div class="entry-content">
		<p>El siguiente <code>Playbook</code> permite configurar un nuevo volúmen para datos (store) en un servidor Zimbra NE.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">---</span>
</span><span class='line'><span class="o">-</span> <span class="nl">hosts:</span> <span class="n">ne_mailbox</span>
</span><span class='line'>  <span class="nl">remote_user:</span> <span class="n">root</span>
</span><span class='line'>  <span class="nl">vars:</span>
</span><span class='line'>        <span class="nl">zmvolume:</span> <span class="s">&quot;/opt/zimbra/bin/zmvolume&quot;</span>
</span><span class='line'>        <span class="nl">zmhsm:</span> <span class="s">&quot;/opt/zimbra/bin/zmhsm&quot;</span>
</span><span class='line'>        <span class="nl">zmprov:</span> <span class="s">&quot;/opt/zimbra/bin/zmprov&quot;</span>
</span><span class='line'>        <span class="nl">hsm_name:</span> <span class="s">&quot;hsm02&quot;</span>
</span><span class='line'>        <span class="nl">hsm_id:</span> <span class="s">&quot;4&quot;</span> <span class="err">#</span> <span class="n">check</span> <span class="kt">id</span> <span class="n">zmvolume</span> <span class="o">-</span><span class="n">l</span> <span class="o">|</span><span class="n">grep</span> <span class="o">-</span><span class="n">B1</span> <span class="n">hsm02</span>
</span><span class='line'>        <span class="nl">path:</span> <span class="s">&quot;/opt/zimbra/store_hsm_02/&quot;</span>
</span><span class='line'>        <span class="nl">policy_option:</span> <span class="s">&quot; &#39;message,document,task,appointment,contact:before:-1month is:anywhere&#39; &quot;</span>
</span><span class='line'>  <span class="nl">tasks:</span>
</span><span class='line'>        <span class="o">-</span> <span class="nl">name:</span> <span class="s">&quot;Configura volumen HSM como volumen secundario&quot;</span>
</span><span class='line'>          <span class="nl">command:</span> <span class="s">&quot;{ { zmvolume } } -a -name  -c true -t secondaryMessage -p { { path } }&quot;</span>
</span><span class='line'>
</span><span class='line'>        <span class="o">-</span> <span class="nl">name:</span> <span class="s">&quot;Activamos nuevo volumen para manejar data&quot;</span>
</span><span class='line'>          <span class="nl">command:</span> <span class="s">&quot;{ { zmvolume } } -sc -id { { hsm_id } } &quot;</span>
</span><span class='line'>
</span><span class='line'>        <span class="o">-</span> <span class="nl">name:</span> <span class="s">&quot;Configuramos politica HSM: Todo por sobre 1 mes se mueve al nuevo volumen&quot;</span>
</span><span class='line'>          <span class="nl">command:</span> <span class="s">&quot;{ { zmprov } } ms { { ansible_fqdn } } zimbraHsmPolicy { { policy_option } }&quot;</span>
</span><span class='line'>
</span><span class='line'>        <span class="o">-</span> <span class="nl">name:</span> <span class="s">&quot;Arrancamos el proceso para mover correos al nuevo HSM&quot;</span>
</span><span class='line'>          <span class="nl">command:</span> <span class="s">&quot;{ { zmhsm } } -t&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p><b>Donde:<br></b>
<code>path: "/opt/zimbra/store_hsm_02/"</code>: Corresponde al punto de montaje del nuevo recurso HSM.<br>
<code>hsm_id: 4"</code>: Corresponde al ID que le asigna Zimbra al nuevo volúmen (disco).<br>
<code>hsm_name: hsm02</code>: Corresponde al nombre que le colocamos al recurso HSM.<br></p>

		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2015/11/12/montar-leer-y-escribir-en-usb-con-formato-ntfs/">
			
				Montar, Leer Y Escribir en USB Con Formato NTFS en OSX Capitan</a>
		</h2>
		<div class="meta date">








  


<time datetime="2015-11-12T18:17:00-03:00" pubdate data-updated="true">Nov 12<span>th</span>, 2015</time></div>
	</header>
	<div class="entry-content">
		<p>Con una terminal, ejecutar:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">sudo</span> <span class="n">vim</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span>
</span></code></pre></td></tr></table></div></figure>


<p>Y dentro colocar</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">LABEL</span><span class="o">=</span><span class="n">DRIVE_NAME</span> <span class="n">none</span> <span class="n">ntfs</span> <span class="n">rw</span><span class="p">,</span><span class="k">auto</span><span class="p">,</span><span class="n">nobrowse</span>
</span></code></pre></td></tr></table></div></figure>


<p>Donde:
El <code>DRIVE_NAME</code> corresponde el nombre del dispositivo que conectamos al equipo. En el caso de que el nombre contenga espacios, tenemos que anteponer el backslash <i>&ldquo;\&rdquo;</i> antes del mismo Ej:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">LABEL</span><span class="o">=</span><span class="s">&quot;NO\ NAME&quot;</span> <span class="n">none</span> <span class="n">ntfs</span> <span class="n">rw</span><span class="p">,</span><span class="k">auto</span><span class="p">,</span><span class="n">nobrowse</span>
</span></code></pre></td></tr></table></div></figure>




		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2015/10/28/ansible-trabajando-con-volumenes-pv-slash-vg-slash-lv/">
			
				Ansible: Trabajando Con Volumenes Lógicos PV/VG/LV en Linux</a>
		</h2>
		<div class="meta date">








  


<time datetime="2015-10-28T23:52:00-03:00" pubdate data-updated="true">Oct 28<span>th</span>, 2015</time></div>
	</header>
	<div class="entry-content">
		<p>Ansible cuenta con un módulos para la gestión de discos en Linux los cuales no permiten administrar nuestros volúmenes.
En el siguiente ejemplo, se crea un volumen sobre un disco <code>/dev/sdf1</code> y que será configurado como volumen lógico y finalmente montado para los backup que realiza un servidor de correos Zimbra.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">---</span>
</span><span class='line'><span class="o">-</span> <span class="nl">hosts:</span> <span class="n">ne_mailbox</span>
</span><span class='line'>  <span class="nl">vars:</span>
</span><span class='line'>        <span class="nl">disk_name:</span> <span class="s">&quot;/dev/sdf1&quot;</span>
</span><span class='line'>        <span class="nl">filesystem:</span> <span class="s">&quot;ext4&quot;</span>
</span><span class='line'>        <span class="nl">vg_name:</span> <span class="s">&quot;zimbra_data&quot;</span>
</span><span class='line'>        <span class="nl">lv_size:</span> <span class="s">&quot;100%FREE&quot;</span> <span class="err">#</span><span class="n">ocupar</span> <span class="n">todo</span> <span class="n">el</span> <span class="n">espacio</span> <span class="n">libre</span> <span class="n">del</span> <span class="n">VG</span> <span class="n">zimbra_data</span>
</span><span class='line'>        <span class="nl">lv_name:</span> <span class="s">&quot;backup&quot;</span>
</span><span class='line'>        <span class="nl">path:</span> <span class="s">&quot;/opt/zimbra/backup&quot;</span>
</span><span class='line'>        <span class="nl">user:</span> <span class="s">&quot;zimbra&quot;</span>
</span><span class='line'>  <span class="nl">tasks:</span>
</span><span class='line'>
</span><span class='line'>        <span class="o">-</span> <span class="nl">name:</span> <span class="s">&quot;Crear el PV sobre el disco nuevo&quot;</span>
</span><span class='line'>          <span class="nl">command:</span> <span class="n">pvcreate</span> <span class="p"></span>
</span><span class='line'>
</span><span class='line'>        <span class="o">-</span> <span class="nl">name:</span> <span class="s">&quot;Crear nuevo VG&quot;</span>
</span><span class='line'>          <span class="nl">lvg:</span> <span class="n">vg</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">vg_name</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span> <span class="n">pvs</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">disk_name</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="o">-</span> <span class="nl">name:</span> <span class="s">&quot;Crear nuevo volumen LVM&quot;</span>
</span><span class='line'>          <span class="nl">lvol:</span> <span class="n">vg</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">vg_name</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span> <span class="n">lv</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">lv_name</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span> <span class="n">size</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">lv_size</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span>
</span><span class='line'>          <span class="nl">tags:</span> <span class="n">crea_lv</span>
</span><span class='line'>
</span><span class='line'>        <span class="o">-</span> <span class="nl">name:</span> <span class="s">&quot;Formateo de unidad LVM&quot;</span>
</span><span class='line'>          <span class="nl">filesystem:</span> <span class="n">fstype</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">filesystem</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span> <span class="n">dev</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">vg_name</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span><span class="o">/</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">lv_name</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span>
</span><span class='line'>          <span class="nl">tags:</span> <span class="n">formatea_lv</span>
</span><span class='line'>
</span><span class='line'>        <span class="o">-</span> <span class="nl">name:</span> <span class="s">&quot;Montar disco&quot;</span>
</span><span class='line'>          <span class="nl">mount:</span> <span class="n">name</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">path</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span> <span class="n">src</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">vg_name</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span><span class="o">/</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">lv_name</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span> <span class="n">fstype</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">filesystem</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span> <span class="n">state</span><span class="o">=</span><span class="n">mounted</span>
</span><span class='line'>          <span class="nl">tags:</span> <span class="n">monta_lv</span>
</span><span class='line'>
</span><span class='line'>        <span class="o">-</span> <span class="nl">name:</span> <span class="s">&quot;Permisos directorio backup&quot;</span>
</span><span class='line'>          <span class="nl">file:</span> <span class="n">path</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">path</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span> <span class="n">state</span><span class="o">=</span><span class="n">directory</span> <span class="n">mode</span><span class="o">=</span><span class="mo">0755</span> <span class="n">owner</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">user</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span> <span class="n">group</span><span class="o">=</span><span class="err">\</span><span class="p">{</span><span class="err">\</span><span class="p">{</span> <span class="n">user</span> <span class="err">\</span><span class="p">}</span><span class="err">\</span><span class="p">}</span>
</span><span class='line'>          <span class="nl">tags:</span> <span class="n">permisos_directorio</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2015/10/15/notas-sobre-imapsync/">
			
				Notas Sobre Imapsync</a>
		</h2>
		<div class="meta date">








  


<time datetime="2015-10-15T23:00:00-03:00" pubdate data-updated="true">Oct 15<span>th</span>, 2015</time></div>
	</header>
	<div class="entry-content">
		<p>En el caso de migrar la data de correos vía <code>imapsync</code> es importante tener en consideración (si se va a tener corriendo varios días el comando) utilizar la opción <code>--delete2</code> para que todo correo copiado al <i>(hosts2)</i> y que no tenga copia en el origen <i>(host1)</i> sea borrado, de lo contrario el usuario cuando se conecte al nuevo servidor tendrá correos que ya había eliminado y el buzón pesará mas de lo normal.
De todas formas, lo anterior se puede corregir configrando el <code>imapsyn</code> con el valor <code>&mdash;minage</code> que sincroniza el buzón desde <i>X</i> días para atrás.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">imapsync</span> <span class="o">--</span><span class="n">buffersize</span> <span class="mi">8192000</span> <span class="o">--</span><span class="n">nosyncacls</span> <span class="o">--</span><span class="n">subscribe</span> <span class="o">--</span><span class="n">syncinternaldates</span> <span class="o">--</span><span class="n">authmech1</span> <span class="no">PLAIN</span> <span class="o">/</span>
</span><span class='line'><span class="o">--</span><span class="n">host1</span> <span class="mi">192</span><span class="o">.</span><span class="mi">168</span><span class="o">.</span><span class="mi">10</span><span class="o">.</span><span class="mi">10</span> <span class="o">--</span><span class="n">user1</span> <span class="n">foo</span><span class="vi">@origen</span><span class="o">.</span><span class="n">dev</span> <span class="o">--</span><span class="n">password1</span> <span class="s1">&#39;foo&#39;</span> <span class="o">--</span><span class="n">host2</span> <span class="mi">192</span><span class="o">.</span><span class="mi">168</span><span class="o">.</span><span class="mi">10</span><span class="o">.</span><span class="mi">11</span> <span class="o">/</span>
</span><span class='line'><span class="o">--</span><span class="n">user2</span> <span class="n">foo</span><span class="vi">@destino</span><span class="o">.</span><span class="n">dev</span> <span class="o">--</span><span class="n">password2</span> <span class="s1">&#39;foo&#39;</span> <span class="o">--</span><span class="n">authmech2</span> <span class="no">PLAIN</span> <span class="o">--</span><span class="n">nofoldersizes</span> <span class="o">--</span><span class="n">skipsize</span> <span class="o">--</span><span class="n">fast</span> <span class="o">/</span>
</span><span class='line'><span class="o">--</span><span class="n">exclude</span> <span class="s1">&#39;(?i)\b(Junk|Spam|Trash|IMIP|Drafts)\b&#39;</span> <span class="o">--</span><span class="n">exclude</span> <span class="s1">&#39;INBOX_(.*)&#39;</span> <span class="o">--</span><span class="n">exclude</span> <span class="s1">&#39;Trash_(.*)&#39;</span><span class="o">/</span>
</span><span class='line'> <span class="o">--</span><span class="n">exclude</span> <span class="s1">&#39;Drafts_(.*)&#39;</span> <span class="o">--</span><span class="n">exclude</span> <span class="s1">&#39;Spam_(.*)&#39;</span> <span class="o">--</span><span class="n">exclude</span> <span class="s1">&#39;Sent Items_(.*)&#39;</span> <span class="o">--</span><span class="n">regextrans2</span> <span class="o">/</span>
</span><span class='line'><span class="s1">&#39;s#^Sent Items#Sent#&#39;</span> <span class="o">--</span><span class="n">delete2duplicates</span> <span class="o">--</span><span class="n">delete2</span> <span class="o">--</span><span class="n">minage</span> <span class="mi">5</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Por ejemplo, hoy estamos a 10 y tiramos el imapsync en el destino empezará a sincronizar (borrando la data que no este en el host1) desde el día 5, con ello evitamos borrar los correos nuevos en el host2.</p>

		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2015/08/06/migrando-servidor-fisico-a-virtual-en-proxmox/">
			
				Migrando Servidor Físico a Virtual en Proxmox</a>
		</h2>
		<div class="meta date">








  


<time datetime="2015-08-06T12:44:00-03:00" pubdate data-updated="true">Aug 6<span>th</span>, 2015</time></div>
	</header>
	<div class="entry-content">
		

		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2015/06/24/seleccionar-y-comentar-texto-con-vim/">
			
				Seleccionar Y Comentar Texto Con VIM</a>
		</h2>
		<div class="meta date">








  


<time datetime="2015-06-24T16:03:00-03:00" pubdate data-updated="true">Jun 24<span>th</span>, 2015</time></div>
	</header>
	<div class="entry-content">
		<p>En el caso de necesitar seleccionar texto (muchas líneas) con <code>vim</code> podemos hacer lo siguiente:</p>

<ul>
<li> Seleccionar texto en modo <b>visual</b> </li>
<li> Apretar la combinación: <b>:norm i#</b> para agregar los comentarios </li>
</ul>


<p>Para quitar los comentatrios</p>

<ul>
<li> Seleccionar texto en modo <b>visual</b> </li>
<li> Apretar la combinación: <b>:norm x</b> para agregar los comentarios </li>
</ul>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2015/03/26/instalado-slash-actualizando-paquetes-endian-firewall/">
			
				Instalado/Actualizando Paquetes Endian Firewall</a>
		</h2>
		<div class="meta date">








  


<time datetime="2015-03-26T18:35:00-03:00" pubdate data-updated="true">Mar 26<span>th</span>, 2015</time></div>
	</header>
	<div class="entry-content">
		<p>Para instalar paquetes en Endian Firewall podemos utilizar el comando <code>smart</code> que es un administrador de paquetes que viene incorporado en la distro. Lo primero que hay que realizar es instalar el repositorio:</p>

<p><li>Para Endian 2.4.x</li></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">smart</span> <span class="n">channel</span> <span class="o">--</span><span class="n">add</span> <span class="no">CentOS_4</span><span class="o">.</span><span class="mi">9</span> <span class="n">type</span><span class="o">=</span><span class="n">rpm</span><span class="o">-</span><span class="n">md</span> <span class="nb">name</span><span class="o">=</span><span class="s2">&quot;CentOS_4.9&quot;</span> <span class="p">\</span><span class="n">baseurl</span><span class="o">=</span><span class="s2">&quot;http://vault.centos.org/4.9/os/i386/&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p><li>En el caso de Endian 2.5.x</li></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">smart</span> <span class="n">channel</span> <span class="o">--</span><span class="n">add</span> <span class="no">CentOS_5</span><span class="o">.</span><span class="mi">9</span> <span class="n">type</span><span class="o">=</span><span class="n">rpm</span><span class="o">-</span><span class="n">md</span> <span class="nb">name</span><span class="o">=</span><span class="s2">&quot;CentOS_5.9&quot;</span> <span class="p">\</span><span class="n">baseurl</span><span class="o">=</span><span class="s2">&quot;http://vault.centos.org/5.9/os/i386/&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Instalando paquetes</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">smart</span> <span class="n">update</span>
</span><span class='line'><span class="n">smart</span> <span class="n">install</span> <span class="n">wget</span> <span class="n">nmap</span> <span class="n">vim</span><span class="o">-</span><span class="n">enhanced</span> <span class="o">-</span><span class="n">y</span>
</span></code></pre></td></tr></table></div></figure>


<p>En el caso de ver el error:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="ss">warning</span><span class="p">:</span> <span class="n">rpmts_HdrFromFdno</span><span class="p">:</span> <span class="no">Header</span> <span class="no">V3</span> <span class="no">DSA</span> <span class="ss">signature</span><span class="p">:</span> <span class="no">NOKEY</span><span class="p">,</span> <span class="n">key</span> <span class="no">ID</span> <span class="mi">443</span><span class="n">e1821</span>
</span><span class='line'><span class="ss">error</span><span class="p">:</span> <span class="n">vim</span><span class="o">-</span><span class="n">common</span><span class="o">-</span><span class="mi">6</span><span class="o">.</span><span class="mi">3</span><span class="o">.</span><span class="mo">046</span><span class="o">-</span><span class="mi">2</span><span class="o">.</span><span class="n">el4</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="n">i386</span><span class="o">.</span><span class="n">rpm</span><span class="p">:</span> <span class="kp">public</span> <span class="n">key</span> <span class="ow">not</span> <span class="n">available</span>
</span><span class='line'><span class="no">Saving</span> <span class="n">cache</span><span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ejecutar</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">smart</span> <span class="n">config</span> <span class="o">--</span><span class="n">set</span>  <span class="n">rpm</span><span class="o">-</span><span class="n">check</span><span class="o">-</span><span class="n">signatures</span><span class="o">=</span><span class="kp">false</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2015/01/15/script-para-buscar-y-borrar-un-correo-en-zimbra/">
			
				Script Para Buscar Y Borrar Un Correo en Zimbra</a>
		</h2>
		<div class="meta date">








  


<time datetime="2015-01-15T12:49:00-03:00" pubdate data-updated="true">Jan 15<span>th</span>, 2015</time></div>
	</header>
	<div class="entry-content">
		<p>El siguiente script permite buscar y borrar un correo mediante consola desde los mailbox de los usuarios.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="n">zimbraAccounts</span><span class="o">=</span><span class="s1">&#39;/var/tmp/cuentas&#39;</span>
</span><span class='line'><span class="n">zimbraCMD</span><span class="o">=</span><span class="s1">&#39;/opt/zimbra/bin/zmmailbox&#39;</span>
</span><span class='line'> <span class="k">for</span> <span class="n">a</span> <span class="k">in</span> <span class="sb">`cat $zimbraAccounts`</span>
</span><span class='line'>    <span class="k">do</span>
</span><span class='line'>        <span class="c1">#user=`$a`</span>
</span><span class='line'>        <span class="n">emailID</span><span class="o">=</span><span class="p">(</span> <span class="err">$</span><span class="p">(</span><span class="vg">$zimbraCMD</span> <span class="o">-</span><span class="n">z</span> <span class="o">-</span><span class="n">m</span> <span class="vg">$a</span> <span class="n">search</span> <span class="s2">&quot;de haber superado debido a la alta tasa de correos spam&quot;</span> <span class="o">|</span><span class="n">grep</span> <span class="n">conv</span> <span class="o">|</span><span class="n">awk</span> <span class="p">{</span><span class="s1">&#39;print $2&#39;</span><span class="p">}</span> <span class="o">|</span><span class="n">sed</span> <span class="s1">&#39;s/-//g&#39;</span><span class="p">)</span> <span class="p">)</span>
</span><span class='line'>        <span class="n">echo</span> <span class="vg">$user</span>
</span><span class='line'>        <span class="c1">#echo ${emailID[1]}</span>
</span><span class='line'>            <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="s2">&quot;${emailID[@]}&quot;</span>
</span><span class='line'>                <span class="k">do</span>
</span><span class='line'>                    <span class="vg">$zimbraCMD</span> <span class="o">-</span><span class="n">z</span> <span class="o">-</span><span class="n">m</span> <span class="vg">$a</span> <span class="n">dm</span> <span class="vg">$i</span>
</span><span class='line'>          <span class="n">echo</span> <span class="s2">&quot;cuenta: $a&quot;</span> <span class="o">&gt;&gt;</span> <span class="sr">/var/</span><span class="n">tmp</span><span class="o">/</span><span class="n">casillasConEmail</span>
</span><span class='line'>                <span class="n">done</span>
</span><span class='line'>    <span class="n">done</span>
</span></code></pre></td></tr></table></div></figure>


<p>En la línea nº8 tenemos que cambiar el texto a buscar, y que corresponde a lo que esta dentro de comillas.
Para el caso, tenemos que tener las cuentas de correos en el archivo <code>/var/tmp/cuentas</code> que las podemos obtener con el comando:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">zmprov</span> <span class="o">-</span><span class="n">l</span> <span class="n">gaa</span> <span class="o">|</span><span class="n">egrep</span> <span class="o">-</span><span class="n">vi</span> <span class="s1">&#39;spam|virus|galsyn|archiv&#39;</span><span class="o">|</span> <span class="n">sort</span> <span class="o">&gt;</span> <span class="sr">/var/</span><span class="n">tmp</span><span class="o">/</span><span class="n">cuentas</span>
</span></code></pre></td></tr></table></div></figure>


<p>Demás esta decir que lo realizado en el comando anterior se puede hacer dentro del mismo script sin tener que hacer esto de forma separada.  Una vez ejecutado el script, podremos ver la información de las cuentas en donde fue borrado el correo:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="n">zimbra</span><span class="vi">@mail1</span> <span class="n">tmp</span><span class="o">]</span><span class="err">$</span> <span class="n">tail</span> <span class="o">-</span><span class="n">f</span> <span class="sr">/var/</span><span class="n">tmp</span><span class="o">/</span><span class="n">casillasConEmail</span>
</span><span class='line'><span class="ss">cuenta</span><span class="p">:</span> <span class="n">ahidalgo</span><span class="vi">@example</span><span class="o">.</span><span class="n">com</span>
</span><span class='line'><span class="ss">cuenta</span><span class="p">:</span> <span class="n">alinay</span><span class="vi">@example</span><span class="o">.</span><span class="n">com</span>
</span><span class='line'><span class="ss">cuenta</span><span class="p">:</span> <span class="n">chernandez</span><span class="vi">@example</span><span class="o">.</span><span class="n">com</span>
</span><span class='line'><span class="ss">cuenta</span><span class="p">:</span> <span class="n">currutia</span><span class="vi">@example</span><span class="o">.</span><span class="n">com</span>
</span><span class='line'><span class="ss">cuenta</span><span class="p">:</span> <span class="n">cvaldes</span><span class="vi">@example</span><span class="o">.</span><span class="n">com</span>
</span><span class='line'><span class="ss">cuenta</span><span class="p">:</span> <span class="n">evalencia</span><span class="vi">@example</span><span class="o">.</span><span class="n">com</span>
</span></code></pre></td></tr></table></div></figure>




		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2014/11/28/atachando-sesion-screen-dropeada/">
			
				Error Screen: There Is No Screen to Be Resumed Matching</a>
		</h2>
		<div class="meta date">








  


<time datetime="2014-11-28T13:14:00-03:00" pubdate data-updated="true">Nov 28<span>th</span>, 2014</time></div>
	</header>
	<div class="entry-content">
		<p>Si al momento de querer recuperar una sesión <code>screen</code> donde tenemos un proceso corriendo y utilizamos el comando <code>scren -r</code>, como resultado de la operación obtenemos el siguiente mensaje:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="n">root</span><span class="vi">@mail</span><span class="o">-</span><span class="n">old</span> <span class="o">~]</span><span class="err">$</span> <span class="n">screen</span> <span class="o">-</span><span class="n">r</span> <span class="s1">&#39;1866.zimbra-mta&#39;</span>
</span><span class='line'><span class="no">There</span> <span class="n">is</span> <span class="n">a</span> <span class="n">screen</span> <span class="ss">on</span><span class="p">:</span>
</span><span class='line'><span class="mi">1866</span><span class="o">.</span><span class="n">zimbra</span><span class="o">-</span><span class="n">mta</span> <span class="p">(</span><span class="no">Attached</span><span class="p">)</span>
</span><span class='line'><span class="no">There</span> <span class="n">is</span> <span class="n">no</span> <span class="n">screen</span> <span class="n">to</span> <span class="n">be</span> <span class="n">resumed</span> <span class="n">matching</span> <span class="mi">1866</span><span class="o">.</span><span class="n">zimbra</span><span class="o">-</span><span class="n">mta</span>
</span></code></pre></td></tr></table></div></figure>


<p>La solución es pasar el comando con la opción <i>&lsquo;-D&rsquo;</i> que nos permite desatachar la sessión remota y atacharla en nuestra tty.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="n">root</span><span class="vi">@mail</span><span class="o">-</span><span class="n">old</span> <span class="o">~]</span><span class="err">$</span> <span class="n">screen</span> <span class="o">-</span><span class="n">r</span> <span class="o">-</span><span class="n">D</span> <span class="s1">&#39;1866.zimbra-mta&#39;</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/blog/2014/11/27/instalacion-desatentida-de-zimbra/">
			
				Instalación Desatentida De Zimbra</a>
		</h2>
		<div class="meta date">








  


<time datetime="2014-11-27T17:20:00-03:00" pubdate data-updated="true">Nov 27<span>th</span>, 2014</time></div>
	</header>
	<div class="entry-content">
		<p>Muchas veces al momento de instalar nuestro servidor de correos hemos pensado como poder automatizar este proceso, ya que en muchos casos las instalaciones son siempre las mismas,  por lo cual optimizar este trabajo mediante Kickstart sería de gran utilidad.  Por suerte en el caso de Zimbra es posible realizar esto mediante un archivo de configuración <i>Kickstart</i> donde le pasamos todos los datos necesarios que permitan realizar esta tarea (dominio, password admin, hostname, etc).</p>

<p>En el presente caso, vamos a realizar una instalación multi-servidor en un ambiente virtual donde instalaremos 4 servidores con distintos roles:
<li>1 Zimbra Ldap Master</li>
<li>1 Zimbra Ldap Replica</li>
<li>1 Zimbra Mailbox</li>
<li>1 Zimbra MTA/Proxy</li></p>

<p>La gracia de esta instalación  es que nos permitirá ir creciendo de forma horizontal e ir adiconando servidores en la medida que necesitamos con solo ejecutar un par de comando y de forma totalmente desatendida.</p>

<h4>Explicando el escenario</h4>

<p>Como nuestro ambiente de instalación es virtual, todas los servidores serán clonados a partir de servidores que llamamos <i>templates</i> en donde previamente se realizó la instalación de los paquetes para cada tipo de rol. Por ejemplo para el servidor template Zimbra Ldap Master, realizamos una instalación con el comando:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">.</span><span class="n">/install</span><span class="o">.</span><span class="n">sh</span> <span class="o">-</span><span class="n">s</span>
</span></code></pre></td></tr></table></div></figure>


<p>Donde al momento de la consulta de que paquetes instalar le damos <i>Y</i> solo a la opción <code>zimbra-ldap</code>, por defecto esto también instalará el paquete <code>zimbra-core</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">zimbra</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="mi">8</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">1</span><span class="n">_GA_3056</span><span class="o">.</span><span class="n">RHEL6_64</span><span class="o">-</span><span class="mi">20141103151539</span><span class="o">.</span><span class="n">x86_64</span><span class="o">.</span><span class="n">rpm</span>
</span><span class='line'><span class="n">zimbra</span><span class="o">-</span><span class="n">ldap</span><span class="o">-</span><span class="mi">8</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">1</span><span class="n">_GA_3056</span><span class="o">.</span><span class="n">RHEL6_64</span><span class="o">-</span><span class="mi">20141103151539</span><span class="o">.</span><span class="n">x86_64</span><span class="o">.</span><span class="n">rpm</span>
</span></code></pre></td></tr></table></div></figure>


<p>Y así con los restantes servidores, lo anterior tiene por objetivo que cuando clonemos el servidor template, este ya tenga los paquetes instalados y solo con ejecutar un comando se haga todo de forma desatendida.</p>

<h4>Manos a la obra</h4>

<p><li>Nota nº1: Antes que todo, tenemos que tener claro que para realizar una instalación de este tipo, tenemos que realizar la instalación en el siguiente orden: Zimbra Ldap Master &ndash;> Zimbra Mailbox &ndash;> Zimbra MTA &ndash;> Zimbra Ldap Réplica </li>
<li>Nota nº2: Tenemos que tener la precaución de corregir el hostname y la tabla hosts de cada uno de los nuevos servidores a instalar </li></p>

<h5>Instalando Zimbra Ldap Master</h5>

<p>Para realizar la intalación del servidor Zimbra Ldap Master ejecutamos el comando:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sr">/opt/</span><span class="n">zimbra</span><span class="o">/</span><span class="n">libexec</span><span class="o">/</span><span class="n">zmsetup</span><span class="o">.</span><span class="n">pl</span>  <span class="o">-</span><span class="n">c</span> <span class="sr">/root/</span><span class="n">zimbra</span><span class="o">-</span><span class="n">conf</span><span class="o">/</span><span class="n">zcsOpenLdapMasterConfig</span>
</span></code></pre></td></tr></table></div></figure>


<p>El contenido del archivo <i>zcsOpenLdapMasterConfig</i> es el siguiente:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">CREATEADMINPASS</span><span class="o">=</span><span class="s2">&quot;zimbra.passwd&quot;</span>
</span><span class='line'><span class="no">LDAPROOTPASS</span><span class="o">=</span><span class="s2">&quot;c1bumJP_&quot;</span>
</span><span class='line'><span class="no">LDAPADMINPASS</span><span class="o">=</span><span class="s2">&quot;c1bumJP_&quot;</span>
</span><span class='line'><span class="no">LDAPREPPASS</span><span class="o">=</span><span class="s2">&quot;c1bumJP_&quot;</span>
</span><span class='line'><span class="no">AVDOMAIN</span><span class="o">=</span><span class="s2">&quot;example-open.local&quot;</span>
</span><span class='line'><span class="no">AVUSER</span><span class="o">=</span><span class="s2">&quot;admin@example-open.local&quot;</span>
</span><span class='line'><span class="no">CREATEADMIN</span><span class="o">=</span><span class="s2">&quot;admin@example-open.local&quot;</span>
</span><span class='line'><span class="no">CREATEDOMAIN</span><span class="o">=</span><span class="s2">&quot;example-open.local&quot;</span>
</span><span class='line'><span class="no">DOCREATEADMIN</span><span class="o">=</span><span class="s2">&quot;no&quot;</span>
</span><span class='line'><span class="no">DOCREATEDOMAIN</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span>
</span><span class='line'><span class="no">EXPANDMENU</span><span class="o">=</span><span class="s2">&quot;no&quot;</span>
</span><span class='line'><span class="no">HOSTNAME</span><span class="o">=</span><span class="s2">&quot;zco-ldapmaster-1.example.com&quot;</span>
</span><span class='line'><span class="no">HTTPPORT</span><span class="o">=</span><span class="s2">&quot;80&quot;</span>
</span><span class='line'><span class="no">HTTPPROXY</span><span class="o">=</span><span class="s2">&quot;FALSE&quot;</span>
</span><span class='line'><span class="no">HTTPPROXYPORT</span><span class="o">=</span><span class="s2">&quot;8080&quot;</span>
</span><span class='line'><span class="no">HTTPSPORT</span><span class="o">=</span><span class="s2">&quot;443&quot;</span>
</span><span class='line'><span class="no">HTTPSPROXYPORT</span><span class="o">=</span><span class="s2">&quot;8443&quot;</span>
</span><span class='line'><span class="no">IMAPPORT</span><span class="o">=</span><span class="s2">&quot;143&quot;</span>
</span><span class='line'><span class="no">IMAPPROXYPORT</span><span class="o">=</span><span class="s2">&quot;7143&quot;</span>
</span><span class='line'><span class="no">IMAPSSLPORT</span><span class="o">=</span><span class="s2">&quot;993&quot;</span>
</span><span class='line'><span class="no">IMAPSSLPROXYPORT</span><span class="o">=</span><span class="s2">&quot;7993&quot;</span>
</span><span class='line'><span class="no">INSTALL_WEBAPPS</span><span class="o">=</span><span class="s2">&quot;zimlet&quot;</span>
</span><span class='line'><span class="no">JAVAHOME</span><span class="o">=</span><span class="s2">&quot;/opt/zimbra/java&quot;</span>
</span><span class='line'><span class="no">LDAPBESSEARCHSET</span><span class="o">=</span><span class="s2">&quot;set&quot;</span>
</span><span class='line'><span class="no">LDAPHOST</span><span class="o">=</span><span class="s2">&quot;zco-ldapmaster-1.example.com&quot;</span>
</span><span class='line'><span class="no">LDAPPORT</span><span class="o">=</span><span class="s2">&quot;389&quot;</span>
</span><span class='line'><span class="no">LDAPREPLICATIONTYPE</span><span class="o">=</span><span class="s2">&quot;master&quot;</span>
</span><span class='line'><span class="no">LDAPSERVERID</span><span class="o">=</span><span class="s2">&quot;2&quot;</span>
</span><span class='line'><span class="no">MAILBOXDMEMORY</span><span class="o">=</span><span class="s2">&quot;1971&quot;</span>
</span><span class='line'><span class="no">MAILPROXY</span><span class="o">=</span><span class="s2">&quot;FALSE&quot;</span>
</span><span class='line'><span class="no">MODE</span><span class="o">=</span><span class="s2">&quot;https&quot;</span>
</span><span class='line'><span class="no">MYSQLMEMORYPERCENT</span><span class="o">=</span><span class="s2">&quot;30&quot;</span>
</span><span class='line'><span class="no">POPPORT</span><span class="o">=</span><span class="s2">&quot;110&quot;</span>
</span><span class='line'><span class="no">POPPROXYPORT</span><span class="o">=</span><span class="s2">&quot;7110&quot;</span>
</span><span class='line'><span class="no">POPSSLPORT</span><span class="o">=</span><span class="s2">&quot;995&quot;</span>
</span><span class='line'><span class="no">POPSSLPROXYPORT</span><span class="o">=</span><span class="s2">&quot;7995&quot;</span>
</span><span class='line'><span class="no">PROXYMODE</span><span class="o">=</span><span class="s2">&quot;https&quot;</span>
</span><span class='line'><span class="no">REMOVE</span><span class="o">=</span><span class="s2">&quot;no&quot;</span>
</span><span class='line'><span class="no">RUNVMHA</span><span class="o">=</span><span class="s2">&quot;no&quot;</span>
</span><span class='line'><span class="no">SMTPDEST</span><span class="o">=</span><span class="s2">&quot;admin@example-open.local&quot;</span>
</span><span class='line'><span class="no">SMTPHOST</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</span><span class='line'><span class="no">SMTPNOTIFY</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span>
</span><span class='line'><span class="no">SMTPSOURCE</span><span class="o">=</span><span class="s2">&quot;admin@example-open.local&quot;</span>
</span><span class='line'><span class="no">SNMPNOTIFY</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span>
</span><span class='line'><span class="no">SNMPTRAPHOST</span><span class="o">=</span><span class="s2">&quot;zco-ldapmaster-1.example.com&quot;</span>
</span><span class='line'><span class="no">SPELLURL</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</span><span class='line'><span class="no">STARTSERVERS</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span>
</span><span class='line'><span class="no">SYSTEMMEMORY</span><span class="o">=</span><span class="s2">&quot;7.7&quot;</span>
</span><span class='line'><span class="no">UPGRADE</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span>
</span><span class='line'><span class="no">USESPELL</span><span class="o">=</span><span class="s2">&quot;no&quot;</span>
</span><span class='line'><span class="no">ZIMBRA_REQ_SECURITY</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span>
</span><span class='line'><span class="n">ldap_bes_searcher_password</span><span class="o">=</span><span class="s2">&quot;ixXXkIh01&quot;</span>
</span><span class='line'><span class="n">ldap_dit_base_dn_config</span><span class="o">=</span><span class="s2">&quot;cn=zimbra&quot;</span>
</span><span class='line'><span class="n">ldap_nginx_password</span><span class="o">=</span><span class="s2">&quot;ixXXkIh01&quot;</span>
</span><span class='line'><span class="n">mailboxd_directory</span><span class="o">=</span><span class="s2">&quot;/opt/zimbra/mailboxd&quot;</span>
</span><span class='line'><span class="n">mailboxd_keystore</span><span class="o">=</span><span class="s2">&quot;/opt/zimbra/conf/keystore&quot;</span>
</span><span class='line'><span class="n">mailboxd_keystore_password</span><span class="o">=</span><span class="s2">&quot;U3m8S3yK&quot;</span>
</span><span class='line'><span class="n">mailboxd_truststore</span><span class="o">=</span><span class="s2">&quot;/opt/zimbra/java/jre/lib/security/cacerts&quot;</span>
</span><span class='line'><span class="n">mailboxd_truststore_password</span><span class="o">=</span><span class="s2">&quot;changeit&quot;</span>
</span><span class='line'><span class="n">ssl_default_digest</span><span class="o">=</span><span class="s2">&quot;sha256&quot;</span>
</span><span class='line'><span class="n">zimbraClusterType</span><span class="o">=</span><span class="s2">&quot;none&quot;</span>
</span><span class='line'><span class="n">zimbraIPMode</span><span class="o">=</span><span class="s2">&quot;ipv4&quot;</span>
</span><span class='line'><span class="n">zimbraPrefTimeZoneId</span><span class="o">=</span><span class="s2">&quot;America/Santiago&quot;</span>
</span><span class='line'><span class="n">zimbra_ldap_userdn</span><span class="o">=</span><span class="s2">&quot;uid=zimbra,cn=admins,cn=zimbra&quot;</span>
</span><span class='line'><span class="n">zimbra_require_interprocess_security</span><span class="o">=</span><span class="s2">&quot;1&quot;</span>
</span><span class='line'><span class="no">INSTALL_PACKAGES</span><span class="o">=</span><span class="s2">&quot;zimbra-core zimbra-ldap &quot;</span>
</span></code></pre></td></tr></table></div></figure>




		
		
	</div>

</article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
</nav>
</div>
	<footer id="footer" class="inner">&copy; 2015

    Miguel Angel Coa Morales

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/hyphenator.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'miguelcoa';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-45157770-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




</body>
</html>
